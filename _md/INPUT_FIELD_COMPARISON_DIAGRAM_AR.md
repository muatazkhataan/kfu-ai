# مخطط مقارنة صندوق إدخال الرسالة

## النسخة السابقة (EnhancedChatInputField)

```
┌─────────────────────────────────────────────────────────┐
│                    شاشة المحادثة                        │
├─────────────────────────────────────────────────────────┤
│  [رسائل المحادثة...]                                    │
│                                                         │
├─────────────────────────────────────────────────────────┤
│  [📎] [                    صندوق الإدخال                ] [🔍] [📤] │
│                                                         │
│  [                    زر التوسيع الكامل                 ] │
└─────────────────────────────────────────────────────────┘
```

**المشاكل:**
- زر منفصل للتوسيع
- توسيع إلى الشاشة كاملة
- سلوك معقد

## النسخة الجديدة (ChatGPTStyleInputField)

```
┌─────────────────────────────────────────────────────────┐
│                    شاشة المحادثة                        │
├─────────────────────────────────────────────────────────┤
│  [رسائل المحادثة...]                                    │
│                                                         │
├─────────────────────────────────────────────────────────┤
│  [📎] [صندوق الإدخال يتوسع تلقائياً مع النص] [📤]        │
│      [السطر الثاني...]                                  │
│      [السطر الثالث...]                                 │
│      [السطر الرابع...]                                  │
│      [السطر الخامس...]                                  │
│      [السطر السادس (الحد الأقصى)...]                    │
│      [↓ تمرير داخلي عند الحاجة ↓]                      │
└─────────────────────────────────────────────────────────┘
```

**المزايا:**
- توسع تلقائي مع النص
- حد أقصى 6 أسطر
- تمرير داخلي
- سلوك بسيط ومألوف

## سلوك التوسع التلقائي

### الحالة 1: نص قصير
```
┌─────────────────────────────────────┐
│ [📎] [اكتب رسالتك هنا...] [📤]      │
└─────────────────────────────────────┘
```

### الحالة 2: نص متوسط
```
┌─────────────────────────────────────┐
│ [📎] [هذا نص أطول يحتاج إلى سطرين] [📤] │
│      [لإظهار المحتوى كاملاً]        │
└─────────────────────────────────────┘
```

### الحالة 3: نص طويل (الحد الأقصى)
```
┌─────────────────────────────────────┐
│ [📎] [هذا نص طويل جداً يحتاج إلى] [📤] │
│      [عدة أسطر لإظهار المحتوى]     │
│      [الكامل مع إمكانية التمرير]   │
│      [الداخلي عند الحاجة]          │
│      [السطر السادس والأخير]        │
│      [↓ تمرير ↓]                  │
└─────────────────────────────────────┘
```

## مقارنة التقنيات

| التقنية | النسخة السابقة | النسخة الجديدة |
|---------|----------------|-----------------|
| **maxLines** | null (غير محدود) | null (متغير) |
| **minLines** | 1 | 1 |
| **constraints** | لا يوجد | BoxConstraints محددة |
| **الحد الأقصى** | الشاشة كاملة | 6 أسطر |
| **التمرير** | لا يوجد | تلقائي |
| **التوسع** | يدوي | تلقائي |

## الكود الأساسي

### النسخة الجديدة
```dart
TextField(
  maxLines: null, // يسمح بعدد أسطر متغير
  minLines: _minLines, // الحد الأدنى
  // ...
)

Container(
  constraints: BoxConstraints(
    minHeight: _verticalPadding * 2 + _lineHeight,
    maxHeight: _verticalPadding * 2 + (_maxLines * _lineHeight),
  ),
  // ...
)
```

هذا التصميم يوفر تجربة مستخدم طبيعية ومألوفة تشبه ChatGPT تماماً.
